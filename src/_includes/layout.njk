{% extends "base.njk" %}
{% block head %}
    <link href="/main.css" rel="stylesheet"/>
    <style>
        div.donate-wrapper {
            position: fixed;
            bottom: 64px;
            right: 0;
            z-index: 1000;
            background-color: #ffc107;
            border-top-left-radius: 8px;
            border-bottom-left-radius: 8px;
            padding: 6px;
            transition: transform 0.5s;
            transform: translateX(calc(100% - 42px));
        }
        div.donate-wrapper:hover {
            transform: none;
        }
        div.donate-wrapper button {
            background: none;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
{% endblock %}
{% block script %}
    {% if custom_colors %}
        <style type="text/css">
            .results-classic-thead-background {
                background-color: {{helpers.findBgColor(filename) | await}}!important;
            }
            .btn,
            .custom-control-label::after {
                color: {{helpers.findBgColor(filename) | await}}!important;
            }
            {{helpers.trophyAndMedalCss() | safe}}
        </style>
    {% endif %}
    <script src="/main.js"></script>
{% endblock %}
{% block extra %}
    <div class="donate-wrapper">
        <button type="button" data-toggle="modal" data-target="#donate">
            <svg width="24px" height="24px" viewBox="0 0 512 512" id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <style type="text/css">
                    .st0 {
                        fill: #3B4652;
                    }
                    .st1 {
                        fill: #2B79C2;
                    }
                </style>
                <g>
                    <path class="st1" d="M95.3,433v1.9c0,32.4,26.2,58.6,58.6,58.6h239.4c32.4,0,58.6-26.2,58.6-58.6V433H95.3z"/>
                    <path class="st0" d="M127.4,343.8c1.9,27.9,11.6,53.7,26.9,75.2H393c17.2-24,27.3-53.4,27.3-85.1v-116H127v28.4   c-5-1.6-10.3-2.4-15.7-2.4c-28.3,0-51.3,23-51.3,51.3c0,28.3,23,51.3,51.3,51.3C116.9,346.4,122.3,345.5,127.4,343.8z M74.1,295.1   c0-20.6,16.7-37.3,37.3-37.3c5.5,0,10.8,1.2,15.7,3.4v67.7c-4.9,2.3-10.2,3.5-15.7,3.5C90.8,332.4,74.1,315.7,74.1,295.1z"/>
                    <path class="st1" d="M156.2,127.8c14.5-0.4,27.1-8.5,32.1-20.4c2.9-7,3.2-15.2,0.8-22.4c-2-5.9-5.7-10.6-10.4-13.1   c-6.5-3.5-14.5-2.5-19.4,2.4c-2.7,2.7-2.7,7.2,0,9.9c2.7,2.7,7.2,2.7,9.9,0c0.3-0.3,1.6-0.5,2.8,0.1c1.6,0.8,2.9,2.8,3.8,5.3   c1.4,4,1.2,8.6-0.4,12.5c-2.9,6.9-10.6,11.6-19.6,11.9c-13.2,0.4-26.4-9.4-30.8-22.8c-4.3-13-0.7-28.7,9.1-39.9   c9.2-10.6,23.6-17.4,39.3-18.5c16.3-1.1,32,4.1,42.1,14c12.7,12.5,16.9,31.5,19.1,46.7c4.1,27.7,3.8,55.8-0.8,83.4   c-0.6,3.8,1.9,7.4,5.8,8.1c0.4,0.1,0.8,0.1,1.2,0.1c3.4,0,6.3-2.4,6.9-5.9c4.8-29.1,5.1-58.6,0.8-87.7c-2.3-16-7.3-39.1-23.1-54.7   c-12.9-12.7-32.7-19.4-52.9-18c-19.4,1.4-37.2,9.8-48.9,23.2c-13,14.9-17.6,35.9-11.8,53.5C118.1,114.8,136.8,128.4,156.2,127.8z"/>
                    <path class="st1" d="M311.8,185c0.4,0,0.8,0,1.2-0.1c3.8-0.6,6.4-4.2,5.8-8.1c-4.6-27.6-4.9-55.7-0.8-83.4   c2.2-15.2,6.4-34.3,19.1-46.7c10.1-9.9,25.9-15.2,42.1-14c15.7,1.1,30.1,7.8,39.3,18.5c9.8,11.3,13.3,26.9,9.1,39.9   c-4.4,13.4-17.7,23.2-30.8,22.8c-9-0.3-16.7-4.9-19.6-11.9c-1.6-3.9-1.8-8.5-0.4-12.5c0.9-2.5,2.2-4.5,3.8-5.3   c1.1-0.6,2.5-0.4,2.8-0.1c2.7,2.7,7.2,2.8,9.9,0c2.7-2.7,2.8-7.2,0-9.9c-4.9-4.9-12.8-5.9-19.4-2.4c-4.7,2.5-8.4,7.2-10.4,13.1   c-2.4,7.2-2.2,15.4,0.8,22.4c5,12,17.6,20,32.1,20.4c19.4,0.6,38.1-13.1,44.5-32.4c5.8-17.6,1.2-38.6-11.8-53.5   c-11.7-13.4-29.5-21.9-48.9-23.2c-20.2-1.4-40,5.3-52.9,18c-15.8,15.6-20.8,38.7-23.1,54.7c-4.3,29.2-4,58.7,0.8,87.7   C305.5,182.6,308.4,185,311.8,185z"/>
                </g>
            </svg>
            <span>Donate!</span>
        </button>
    </div>
    <script async src="https://js.stripe.com/v3/buy-button.js"></script>
    <div class="modal" id="donate" tabindex="-1" role="dialog"
    aria-labelledby="donate-label" aria-hidden="true">
        <div class="modal-dialog" role="form">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title h4" id="donate-label">
                    Buy us a coffee!
                </h2>
                    <button type="button" class="close" data-dismiss="modal"
                        aria-label="Close">
                        <span aria-hidden="true" style="vertical-align: super">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>
                    Our site is just run by college-student volunteersâ€”yet over 150,000 users use our page.
                    If you're able to, we'd love for you to chip in to keep the website running.
                    If you're a Science Olympiad organization that would like to chip in as well,
                    you can reach us at <a href="mailto:admin@duosmium.org">admin@duosmium.org</a>.
                    <br></br>
                    Thank you!
                </p>
                    <div class="d-flex justify-content-center">
                        <stripe-buy-button
                        buy-button-id="buy_btn_1RH92lLWg3HVK1dJj19VyL6T"
                        publishable-key="pk_live_51JwF7lLWg3HVK1dJrjdRtjVrIBXfPfrFsVMQNvqvJUKfwqmTS0JCWNWY9ZBlYRXO4mT1DaKfpoN7Lqp3IwIVyehY004mEUsQPo"
                    ></stripe-buy-button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}